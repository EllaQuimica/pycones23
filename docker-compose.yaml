version: "3"
services:
  pelican-sitebuilder:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "8080:8000"
    volumes:
      - .:/project-root
    environment:
      - SITEURL=http://localhost:8080
      - CONFFILE=pelicanconf.py
      - PYCONES_BUILD_TARGET=${PYCONES_BUILD_TARGET:-WEB}
    command: pelican -l content -s pelicanconf.py -r --bind 0.0.0.0
